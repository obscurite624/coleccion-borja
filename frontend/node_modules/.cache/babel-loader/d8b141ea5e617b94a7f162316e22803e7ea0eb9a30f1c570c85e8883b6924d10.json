{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\borja\\\\Documents\\\\clase\\\\dad\\\\ProyectosReact\\\\coleccion-borja\\\\frontend\\\\src\\\\components\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, TextField, Button } from '@mui/material';\nimport { theme } from '../index';\nimport { Grid, Paper, Avatar, Typography } from '@mui/material';\nimport { ThemeProvider } from '@mui/material/styles';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginActions } from '../store/storeLogin';\nimport CssBaseline from '@mui/material/CssBaseline';\n\n// Borja Vega Suárez\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const userData = useSelector(state => state.login);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const handleUsernameChange = e => {\n    setUsername(e.target.value);\n  };\n  const handlePasswordChange = e => {\n    setPassword(e.target.value);\n  };\n  const isVerifiedUser = () => {\n    fetch(`http://localhost:3030/login?user=${username}&password=${password}`).then(response => {\n      if (!response.ok) {\n        throw new Error('Error de conexión');\n      }\n      return response.json();\n    }).then(response => {\n      if (response.data && response.data.nombre !== undefined) {\n        console.log('Te has logueado. Navegando a home.');\n        dispatch(loginActions.login({\n          name: response.data.nombre,\n          rol: response.data.rol\n        }));\n        navigate('/home');\n      } else {\n        console.log('Usuario o contraseña incorrectos.');\n      }\n    }).catch(error => {\n      console.error('Error de conexión:', error);\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (username === '' || password === '') {\n      console.log('Campos vacíos');\n    } else {\n      isVerifiedUser();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      component: \"main\",\n      sx: {\n        height: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: false,\n        sm: 4,\n        md: 7,\n        sx: {\n          backgroundImage: 'url(https://images.unsplash.com/photo-1559999831-7deaf136d4a9?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)',\n          backgroundRepeat: 'no-repeat',\n          backgroundColor: t => t.palette.mode === 'light' ? t.palette.grey[50] : t.palette.grey[900],\n          backgroundSize: 'cover',\n          backgroundPosition: 'center'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 5,\n        component: Paper,\n        elevation: 6,\n        square: true,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            my: 8,\n            mx: 4,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            margin: '10rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            style: {\n              backgroundColor: theme.palette.primary.main,\n              margin: '1 rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: require('./images/loginIcon.png'),\n              alt: \"Login Icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            component: \"h1\",\n            variant: \"h4\",\n            children: \"Iniciar sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            noValidate: true,\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"username\",\n              label: \"Usuario\",\n              name: \"username\",\n              value: username,\n              onChange: handleUsernameChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              name: \"password\",\n              label: \"Contrase\\xF1a\",\n              type: \"password\",\n              id: \"password\",\n              value: password,\n              onChange: handlePasswordChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              fullWidth: true,\n              variant: \"contained\",\n              color: \"primary\",\n              style: {\n                margin: '1 rem'\n              },\n              children: \"Iniciar sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"rlusts1v7+noLvaRMxsvx+3i1yU=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Box","TextField","Button","theme","Grid","Paper","Avatar","Typography","ThemeProvider","useNavigate","useDispatch","useSelector","loginActions","CssBaseline","jsxDEV","_jsxDEV","Login","_s","navigate","dispatch","userData","state","login","username","setUsername","password","setPassword","handleUsernameChange","e","target","value","handlePasswordChange","isVerifiedUser","fetch","then","response","ok","Error","json","data","nombre","undefined","console","log","name","rol","catch","error","handleSubmit","preventDefault","children","container","component","sx","height","fileName","_jsxFileName","lineNumber","columnNumber","item","xs","sm","md","backgroundImage","backgroundRepeat","backgroundColor","t","palette","mode","grey","backgroundSize","backgroundPosition","elevation","square","my","mx","display","flexDirection","alignItems","margin","style","primary","main","src","require","alt","variant","noValidate","onSubmit","required","fullWidth","id","label","onChange","type","color","_c","$RefreshReg$"],"sources":["C:/Users/borja/Documents/clase/dad/ProyectosReact/coleccion-borja/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Box, TextField, Button } from '@mui/material';\r\nimport { theme } from '../index';\r\nimport { Grid, Paper, Avatar, Typography } from '@mui/material';\r\nimport { ThemeProvider } from '@mui/material/styles';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginActions } from '../store/storeLogin';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\n\r\n// Borja Vega Suárez\r\n\r\nconst Login = () => {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    const userData = useSelector((state) => state.login);\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const handleUsernameChange = (e) => {\r\n        setUsername(e.target.value);\r\n    };\r\n\r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value);\r\n    };\r\n\r\n    const isVerifiedUser = () => {\r\n        fetch(`http://localhost:3030/login?user=${username}&password=${password}`)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error('Error de conexión');\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(response => {\r\n                if (response.data && response.data.nombre !== undefined) {\r\n                    console.log('Te has logueado. Navegando a home.');\r\n                    dispatch(loginActions.login({\r\n                        name: response.data.nombre,\r\n                        rol: response.data.rol\r\n                    }));\r\n                    navigate('/home');\r\n                } else {\r\n                    console.log('Usuario o contraseña incorrectos.');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Error de conexión:', error);\r\n            });\r\n    };\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (username === '' || password === '') {\r\n            console.log('Campos vacíos');\r\n        } else {\r\n            isVerifiedUser();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <Grid container component=\"main\" sx={{ height: '100vh' }}>\r\n                <CssBaseline />\r\n                <Grid\r\n                    item\r\n                    xs={false}\r\n                    sm={4}\r\n                    md={7}\r\n                    sx={{\r\n                        backgroundImage: 'url(https://images.unsplash.com/photo-1559999831-7deaf136d4a9?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)',\r\n                        backgroundRepeat: 'no-repeat',\r\n                        backgroundColor: (t) =>\r\n                            t.palette.mode === 'light' ? t.palette.grey[50] : t.palette.grey[900],\r\n                        backgroundSize: 'cover',\r\n                        backgroundPosition: 'center',\r\n                    }}\r\n                />\r\n                <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n                    <Box\r\n                        sx={{\r\n                            my: 8,\r\n                            mx: 4,\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'center',\r\n                            margin: '10rem', \r\n                        }}\r\n                    >\r\n                        <Avatar style={{ backgroundColor: theme.palette.primary.main, margin: '1 rem' }}>\r\n                            <img src={require('./images/loginIcon.png')} alt=\"Login Icon\" />\r\n                        </Avatar>\r\n                        \r\n                        <Typography component=\"h1\" variant=\"h4\">\r\n                            Iniciar sesión\r\n                        </Typography>\r\n                        <Box component=\"form\" noValidate onSubmit={handleSubmit}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"username\"\r\n                                label=\"Usuario\"\r\n                                name=\"username\"\r\n                                value={username}\r\n                                onChange={handleUsernameChange}\r\n                            />\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"password\"\r\n                                label=\"Contraseña\"\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                value={password}\r\n                                onChange={handlePasswordChange}\r\n                            />\r\n                            <Button\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{ margin: '1 rem' }}\r\n                            >\r\n                                Iniciar sesión\r\n                            </Button>\r\n                        </Box>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        </ThemeProvider>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,GAAG,EAAEC,SAAS,EAAEC,MAAM,QAAQ,eAAe;AACtD,SAASC,KAAK,QAAQ,UAAU;AAChC,SAASC,IAAI,EAAEC,KAAK,EAAEC,MAAM,EAAEC,UAAU,QAAQ,eAAe;AAC/D,SAASC,aAAa,QAAQ,sBAAsB;AACpD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,YAAY,QAAQ,qBAAqB;AAClD,OAAOC,WAAW,MAAM,2BAA2B;;AAEnD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAMU,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAMU,QAAQ,GAAGT,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACC,KAAK,CAAC;EAEpD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC0B,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAM4B,oBAAoB,GAAIC,CAAC,IAAK;IAChCJ,WAAW,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC/B,CAAC;EAED,MAAMC,oBAAoB,GAAIH,CAAC,IAAK;IAChCF,WAAW,CAACE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC/B,CAAC;EAED,MAAME,cAAc,GAAGA,CAAA,KAAM;IACzBC,KAAK,CAAE,oCAAmCV,QAAS,aAAYE,QAAS,EAAC,CAAC,CACrES,IAAI,CAACC,QAAQ,IAAI;MACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;MACxC;MACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAC1B,CAAC,CAAC,CACDJ,IAAI,CAACC,QAAQ,IAAI;MACd,IAAIA,QAAQ,CAACI,IAAI,IAAIJ,QAAQ,CAACI,IAAI,CAACC,MAAM,KAAKC,SAAS,EAAE;QACrDC,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;QACjDxB,QAAQ,CAACP,YAAY,CAACU,KAAK,CAAC;UACxBsB,IAAI,EAAET,QAAQ,CAACI,IAAI,CAACC,MAAM;UAC1BK,GAAG,EAAEV,QAAQ,CAACI,IAAI,CAACM;QACvB,CAAC,CAAC,CAAC;QACH3B,QAAQ,CAAC,OAAO,CAAC;MACrB,CAAC,MAAM;QACHwB,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;MACpD;IACJ,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,IAAI;MACZL,OAAO,CAACK,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;EACV,CAAC;EAGD,MAAMC,YAAY,GAAIpB,CAAC,IAAK;IACxBA,CAAC,CAACqB,cAAc,CAAC,CAAC;IAElB,IAAI1B,QAAQ,KAAK,EAAE,IAAIE,QAAQ,KAAK,EAAE,EAAE;MACpCiB,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAChC,CAAC,MAAM;MACHX,cAAc,CAAC,CAAC;IACpB;EACJ,CAAC;EAED,oBACIjB,OAAA,CAACP,aAAa;IAACL,KAAK,EAAEA,KAAM;IAAA+C,QAAA,eACxBnC,OAAA,CAACX,IAAI;MAAC+C,SAAS;MAACC,SAAS,EAAC,MAAM;MAACC,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAQ,CAAE;MAAAJ,QAAA,gBACrDnC,OAAA,CAACF,WAAW;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACf3C,OAAA,CAACX,IAAI;QACDuD,IAAI;QACJC,EAAE,EAAE,KAAM;QACVC,EAAE,EAAE,CAAE;QACNC,EAAE,EAAE,CAAE;QACNT,EAAE,EAAE;UACAU,eAAe,EAAE,0KAA0K;UAC3LC,gBAAgB,EAAE,WAAW;UAC7BC,eAAe,EAAGC,CAAC,IACfA,CAAC,CAACC,OAAO,CAACC,IAAI,KAAK,OAAO,GAAGF,CAAC,CAACC,OAAO,CAACE,IAAI,CAAC,EAAE,CAAC,GAAGH,CAAC,CAACC,OAAO,CAACE,IAAI,CAAC,GAAG,CAAC;UACzEC,cAAc,EAAE,OAAO;UACvBC,kBAAkB,EAAE;QACxB;MAAE;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACF3C,OAAA,CAACX,IAAI;QAACuD,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAACV,SAAS,EAAE/C,KAAM;QAACmE,SAAS,EAAE,CAAE;QAACC,MAAM;QAAAvB,QAAA,eACnEnC,OAAA,CAACf,GAAG;UACAqD,EAAE,EAAE;YACAqB,EAAE,EAAE,CAAC;YACLC,EAAE,EAAE,CAAC;YACLC,OAAO,EAAE,MAAM;YACfC,aAAa,EAAE,QAAQ;YACvBC,UAAU,EAAE,QAAQ;YACpBC,MAAM,EAAE;UACZ,CAAE;UAAA7B,QAAA,gBAEFnC,OAAA,CAACT,MAAM;YAAC0E,KAAK,EAAE;cAAEf,eAAe,EAAE9D,KAAK,CAACgE,OAAO,CAACc,OAAO,CAACC,IAAI;cAAEH,MAAM,EAAE;YAAQ,CAAE;YAAA7B,QAAA,eAC5EnC,OAAA;cAAKoE,GAAG,EAAEC,OAAO,CAAC,wBAAwB,CAAE;cAACC,GAAG,EAAC;YAAY;cAAA9B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D,CAAC,eAET3C,OAAA,CAACR,UAAU;YAAC6C,SAAS,EAAC,IAAI;YAACkC,OAAO,EAAC,IAAI;YAAApC,QAAA,EAAC;UAExC;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACb3C,OAAA,CAACf,GAAG;YAACoD,SAAS,EAAC,MAAM;YAACmC,UAAU;YAACC,QAAQ,EAAExC,YAAa;YAAAE,QAAA,gBACpDnC,OAAA,CAACd,SAAS;cACNqF,OAAO,EAAC,UAAU;cAClBP,MAAM,EAAC,QAAQ;cACfU,QAAQ;cACRC,SAAS;cACTC,EAAE,EAAC,UAAU;cACbC,KAAK,EAAC,SAAS;cACfhD,IAAI,EAAC,UAAU;cACfd,KAAK,EAAEP,QAAS;cAChBsE,QAAQ,EAAElE;YAAqB;cAAA4B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC,eACF3C,OAAA,CAACd,SAAS;cACNqF,OAAO,EAAC,UAAU;cAClBP,MAAM,EAAC,QAAQ;cACfU,QAAQ;cACRC,SAAS;cACT9C,IAAI,EAAC,UAAU;cACfgD,KAAK,EAAC,eAAY;cAClBE,IAAI,EAAC,UAAU;cACfH,EAAE,EAAC,UAAU;cACb7D,KAAK,EAAEL,QAAS;cAChBoE,QAAQ,EAAE9D;YAAqB;cAAAwB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC,eACF3C,OAAA,CAACb,MAAM;cACH4F,IAAI,EAAC,QAAQ;cACbJ,SAAS;cACTJ,OAAO,EAAC,WAAW;cACnBS,KAAK,EAAC,SAAS;cACff,KAAK,EAAE;gBAAED,MAAM,EAAE;cAAQ,CAAE;cAAA7B,QAAA,EAC9B;YAED;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAExB,CAAC;AAACzC,EAAA,CA/HID,KAAK;EAAA,QACUP,WAAW,EACXC,WAAW,EACXC,WAAW;AAAA;AAAAqF,EAAA,GAH1BhF,KAAK;AAiIX,eAAeA,KAAK;AAAC,IAAAgF,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}